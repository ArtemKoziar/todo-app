<div class="container">

  <ul fxLayout="column" class="list">
    <li class="list-item" fxLayout="row" fxLayoutAlign="space-between center">
      <span class="title-text" fxFlex fxLayout="row" fxLayoutAlign="left center">
        <mat-icon svgIcon="done" class="done-icon"></mat-icon> My lists </span>
      <span fxLayout="row" fxLayoutAlign="right center" fxLayoutGap="15px">
        <mat-icon svgIcon="edit" class="edit-icon list-icon" *ngIf="!editLists; else editView"
                  (click)="editLists = true"></mat-icon>
      <ng-template #editView>
          <mat-icon svgIcon="cross-thin" class="edit-icon list-icon" aria-label="close"
                    (click)="cancelListsChanges()"></mat-icon>
          <mat-icon svgIcon="save" class="edit-icon list-icon" aria-label="save"
                    (click)="saveListsChanges()"></mat-icon>
      </ng-template>
        </span>
    </li>
    <li class="list-item" fxLayout="row" fxLayoutAlign="space-between center" *ngFor="let list of lists$ | async">
      <span class="list-item-container" fxFlex fxLayout="row" fxLayoutAlign="left center">
        <span class="list-item-text" (click)="selectList(list.listName)"> {{ list.listName }} </span>

        <ng-container *ngIf="editLists">
          <div fxLayout="row" fxLayoutAlign="space-between center" fxFlexFill="">
           <mat-icon svgIcon="drag" class="list-icon drag-icon"></mat-icon>
           <mat-icon svgIcon="delete" class="list-icon"
                     [ngClass]="listsToRemove[list.listName] === list.listName ? 'to-delete' : ''"
                     (click)="deleteList(list.listName)"></mat-icon>
          </div>
          </ng-container>
      </span>
    </li>
    <li class="list-item">
      <input type="text"
             [(ngModel)]="newList"
             (keydown.enter)="createList()"
             placeholder="+ New List"
             class="new-list-input">
    </li>
  </ul>
</div>

